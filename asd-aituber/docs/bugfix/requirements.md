# ASD理解促進教育プラットフォーム 要件定義書 v3.0

## 1. プロジェクト概要

### 1.1 プロジェクト名
ASD理解促進教育プラットフォーム（AIエージェント活用型）

### 1.2 目的
定型発達者がASD（自閉症スペクトラム障害）のコミュニケーション特性を**具体的なシナリオを通じて体験的に理解**し、より良い相互理解を促進する教育プラットフォーム

### 1.3 基本理念
- **Nothing About Us Without Us**: ASD当事者が開発の中心
- **多様性の尊重**: 「ASDの人」ではなく「このシナリオのASDキャラクター」として提示
- **段階的発展**: 小さく始めて、フィードバックを基に成長
- **透明性**: プラットフォームの限界を明確に提示

### 1.4 プロジェクトの強み
- **当事者主導**: 開発者自身がASD/ADHD当事者
- **医学的裏付け**: 精神科医による監修
- **教育的視点**: 教育分野の実践的知見
- **内部理解**: 「外から見た」ではなく「内から伝える」アプローチ

## 2. ステークホルダー

### 2.1 コアチーム構成
```yaml
プロジェクトリード（開発者本人）:
  役割:
    - ASD/ADHD当事者としての視点提供
    - 教育分野の知見に基づく設計
    - 技術実装とプロジェクト管理
    - シナリオ開発と監修
  
医学アドバイザー（配偶者）:
  役割:
    - 精神科医としての医学的妥当性確認
    - 倫理面でのアドバイス
    - 臨床的視点からのフィードバック
    
協力者（1名）:
  役割:
    - 開発支援
    - レビューとフィードバック
```

### 2.2 ターゲットユーザー
- **主要ターゲット**: ASDについて理解を深めたい定型発達者
- **二次ターゲット**: 教育関係者、保護者、支援者
- **将来的ターゲット**: ASD当事者（自己理解のツールとして）

## 3. 機能要件

### 3.1 コア機能（MVP版）

#### 3.1.1 シナリオベース学習システム
```yaml
10の初期シナリオ:
  1. 「ちょっと待って」の解釈:
     状況: 友人との会話中
     NT解釈: 少しの間待つ（時間は文脈依存）
     ASD解釈: 具体的な時間が不明で困惑
     
  2. 「適当にやっておいて」:
     状況: 職場での指示
     NT解釈: 状況に応じて判断
     ASD解釈: 「適当」の基準が不明
     
  3. 褒め言葉の裏の意味:
     状況: 「すごく個性的だね」
     NT解釈: 婉曲な批判の可能性
     ASD解釈: 文字通り個性を褒められた
     
  # 他7シナリオは当事者の実体験から追加

シナリオ構造:
  - 状況設定（背景、登場人物、文脈）
  - 発話内容
  - NT（定型発達）の一般的解釈
  - ASD視点での解釈
  - なぜ解釈が異なるのかの説明
  - 相互理解のためのヒント
  - 注意事項（個人差があることの明記）
```

#### 3.1.2 モード切り替え機能
- **ASDモード**: 字義通り解釈、明確な指示、感情の明示的表現
- **NTモード**: 文脈依存、暗黙の了解、非言語的コミュニケーション

#### 3.1.3 学習モード
- **体験モード**: シナリオを順番に体験
- **クイズモード**: 理解度チェック
- **解説モード**: 詳細な背景説明

### 3.2 パーソナリティシステム（PCM統合）
```yaml
PCMタイプ:
  - Thinker（思考型）: 論理的、事実重視 - ASD親和性高
  - Persister（信念型）: 価値観重視、正義感
  - Harmonizer（感情型）: 共感的、人間関係重視
  - Imaginer（想像型）: 内向的、想像力豊か
  - Rebel（反抗型）: 遊び心、自発性
  - Promoter（行動型）: 実践的、結果重視
```

### 3.3 日本語処理機能
- 慣用句・比喩の検出と字義通り変換
- 感情分析（内部感情と外部表現の分離）
- 文脈の明確化支援

### 3.4 フィードバック機能
- ユーザー評価（理解度、有用性）
- 自由記述コメント
- 改善提案の収集

## 4. 非機能要件

### 4.1 アクセシビリティ（最優先）
- WCAG 2.1 Level AA準拠
- スクリーンリーダー完全対応
- キーボードのみで全操作可能
- 高コントラストモード
- 文字サイズ可変（50%-200%）
- 音声読み上げ対応

### 4.2 パフォーマンス
- ページ読み込み: 3秒以内
- インタラクション応答: 100ms以内
- API応答時間: 500ms以内（日本語NLP処理含む）
- 同時接続: 100ユーザー（初期）

### 4.3 セキュリティ
- APIキーの適切な管理
- レート制限の実装
- 入力検証の徹底
- 個人情報の匿名化

### 4.4 倫理的要件
- 利用開始時に「これは一例であり個人差がある」旨を明示
- ASD当事者の承認なしにコンテンツ公開不可
- 差別的表現の定期チェック
- 神経多様性を肯定するアプローチ

## 5. 技術仕様

### 5.1 選定技術スタック
```yaml
フロントエンド:
  フレームワーク: Next.js 14
  言語: TypeScript
  スタイリング: Tailwind CSS
  状態管理: Zustand
  
AIエージェント:
  LLMモデル: Claude 3.5 Sonnet / GPT-4
  
バックエンド（日本語NLP）:
  言語: Python
  フレームワーク: FastAPI
  形態素解析: SudachiPy
  高度な処理: GiNZA
  感情分析: oseti + カスタムモデル
  
リアルタイム通信:
  WebSocket: Socket.IO
  
インフラ:
  開発環境: Docker Compose
  本番環境: VPS → クラウド（段階的移行）
  CI/CD: GitHub Actions
```

### 5.2 技術選定理由
- TypeScriptネイティブで優れた開発体験
- リアルタイム性能を最優先
- 日本語処理はPythonの成熟したエコシステムを活用
- ハイブリッドアーキテクチャで各言語の強みを活用

### 5.3 システムアーキテクチャ
```
┌─────────────────────────────────────┐
│     Next.js Frontend (TypeScript)    │
│  ・UI/UX                            │
│  ・リアルタイム表示                  │
└──────────────┬──────────────────────┘
               │
┌──────────────┴──────────────────────┐
│       Node.js Backend               │
│  ・WebSocket通信                    │
│  ・LLM API呼び出し                  │
│  ・セッション管理                   │
└─────┬────────────────┬──────────────┘
      │                │
┌─────┴──────┐   ┌────┴───────────────┐
│ Claude/GPT │   │ Python NLP Service  │
│    API     │   │ ・SudachiPy        │
│            │   │ ・GiNZA            │
│            │   │ ・感情分析         │
└────────────┘   └────────────────────┘
```

### 5.4 データモデル
```typescript
interface UserProfile {
  id: string;
  learningProgress: LearningProgress;
  preferences: UserPreferences;
  feedbackHistory: Feedback[];
}

interface Scenario {
  id: string;
  title: string;
  situation: string;
  utterance: string;
  ntInterpretation: Interpretation;
  asdInterpretation: Interpretation;
  explanation: string;
  learningPoints: string[];
}

interface ConversationState {
  mode: 'ASD' | 'NT';
  pcmType: PCMType;
  emotionState: {
    internal: EmotionLevel;
    external: EmotionLevel;
  };
  context: ConversationContext;
}
```

## 6. 開発計画

### 6.1 フェーズ1: 基盤構築（1ヶ月）
- Week 1-2: 技術環境構築、基本アーキテクチャ実装
- Week 3-4: VRMモデル表示、基本UI実装

### 6.2 フェーズ2: MVP開発（2ヶ月）
- Month 2: コア機能実装（AITuber基盤、モード切り替え、Python NLP）
- Month 3: 10シナリオ実装、UI/UX開発、テスト

### 6.3 フェーズ3: パイロット運用（2ヶ月）
- Month 4: 限定公開（50名）、フィードバック収集
- Month 5: 改善実装、本番準備

### 6.4 フェーズ4: 拡張開発（3ヶ月）
- Month 6-7: 音声機能統合（VOICEVOX）、PCM実装
- Month 8: 高度な機能追加、スケーラビリティ向上

## 7. 成功指標

### 7.1 技術的指標
- 慣用句検出精度: 80%以上
- 字義通り変換適切性: 90%以上
- システム稼働率: 99%以上

### 7.2 教育効果指標
- 理解度向上率: 20%以上（事前・事後テスト）
- 完走率: 70%以上（10シナリオ）
- ASD当事者からの肯定的評価: 90%以上

### 7.3 ユーザビリティ指標
- タスク完了率: 85%以上
- エラー率: 5%未満
- ユーザー満足度: 4.0/5.0以上

## 8. リスク管理

### 8.1 技術的リスク
```yaml
日本語処理の精度:
  リスク: 慣用句の自動検出漏れ
  対策: 
    - 継続的なデータベース拡充
    - ユーザーフィードバックによる改善
    - 手動レビュープロセス

AIモデルの一貫性:
  リスク: LLMの応答のばらつき
  対策:
    - temperatureパラメータの調整（ASD: 0.3, NT: 0.7）
    - Few-shot学習による安定化
    - 応答キャッシング
```

### 8.2 倫理的リスク
```yaml
ステレオタイプ化:
  リスク: ASD=この10パターンという誤解
  対策: 
    - 各応答に「これは一例です」を表示
    - 多様性に関する説明を常時表示
    - 定期的な当事者レビュー

過度の一般化:
  リスク: 全てのASDの人に当てはめる
  対策:
    - 個人差の強調
    - 注意事項の目立つ表示
    - 学習前の説明動画
```

## 9. 運用・保守

### 9.1 運用体制
- 開発者: システム保守、機能追加
- 医学アドバイザー: コンテンツレビュー
- 外部レビュアー: 定期的な評価

### 9.2 保守計画
- 週次: システム監視、パフォーマンスチェック
- 月次: セキュリティアップデート、バックアップ
- 四半期: 機能改善、コンテンツ更新

### 9.3 サポート体制
- FAQ・ドキュメント整備
- フィードバックフォーム設置
- コミュニティフォーラム（将来）

## 10. 予算計画

### 10.1 初期開発コスト
- 開発期間: 8ヶ月（個人開発）
- 外部サービス: 月額1-2万円（Claude API、VPS）

### 10.2 運用コスト（月額）
- インフラ: 2,000-10,000円（規模による）
- LLM API: 5,000-50,000円（使用量による）
- 保守工数: 週10時間程度

## 11. 今後の展望

### 11.1 短期（6ヶ月）
- シナリオ追加（+20個）
- 英語対応
- モバイルアプリ検討

### 11.2 中期（1年）
- 音声対話機能（VOICEVOX）
- VRMキャラクター実装
- 教師向け管理機能

### 11.3 長期（2年）
- 多言語展開
- 研究機関との連携
- オープンソース化検討

---

**改訂履歴**
- v3.0 (2024/06/06): ハイブリッドアーキテクチャ採用、技術仕様詳細化
- v2.0 (2024/XX/XX): 初期要件定義
- v1.0 (2024/XX/XX): プロジェクト構想
